<Window x:Class="AAAFileManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:AAAFileManager"
        mc:Ignorable="d"
        Title="AAA File Manager" Height="720" Width="1200">
  <DockPanel>
    <Menu DockPanel.Dock="Top">
      <MenuItem Header="_File">
        <MenuItem Header="_New Window" Click="NewWindow_Click"/>
        <Separator/>
        <MenuItem Header="Open _Folder..." Click="OpenFolder_Click"/>
        <MenuItem Header="Open _ZIP..." Click="OpenZip_Click"/>
        <MenuItem Header="_Recent" Name="RecentMenu">
          <MenuItem Header="(empty)" Name="RecentMenuPlaceholder" IsEnabled="False"/>
        </MenuItem>
        <Separator/>
        <MenuItem Header="E_xit" Click="Exit_Click"/>
      </MenuItem>
      <MenuItem Header="_Edit">
        <MenuItem Header="_Copy" Click="Copy_Click"/>
        <MenuItem Header="Cu_t" Click="Cut_Click"/>
        <MenuItem Header="_Paste" Click="Paste_Click"/>
        <Separator/>
        <MenuItem Header="_Rename" Click="Rename_Click"/>
        <MenuItem Header="_Duplicate" Click="Duplicate_Click"/>
        <MenuItem Header="_Delete to Recycle Bin" Click="Delete_Click"/>
      </MenuItem>
      <MenuItem Header="_View">
        <MenuItem Header="Show _Search" Click="ToggleSearch_Click"/>
      </MenuItem>
      <MenuItem Header="_Tools">
        <MenuItem Header="_Settings" Click="Settings_Click"/>
        <Separator/>
        <MenuItem Header="Theme">
          <MenuItem Header="Dark" Click="ThemeDark_Click"/>
          <MenuItem Header="Light" Click="ThemeLight_Click"/>
        </MenuItem>
      </MenuItem>
      <MenuItem Header="_Help">
        <MenuItem Header="_About" Click="About_Click"/>
      </MenuItem>
    </Menu>

          <ToolBar DockPanel.Dock="Top">
      <Button Content="New Window" Click="NewWindow_Click"/>
      <Separator/>
      <Button Content="Copy" Click="Copy_Click"/>
      <Button Content="Paste" Click="Paste_Click"/>
      <Button Content="Delete" Click="Delete_Click"/>
      <Separator/>
      <Button Content="Search" Click="ToggleSearch_Click"/>
      <Separator/>
      <TextBlock VerticalAlignment="Center" Text="Inbox:" Margin="12,0,6,0"/>
      <TextBox Name="InboxPath" Width="260" VerticalAlignment="Center"/>
      <Button Content="Set" Click="SetInbox_Click" Margin="6,0,0,0"/>
    </ToolBar>

    <StatusBar DockPanel.Dock="Bottom">
      <StatusBarItem>
        <TextBlock Name="StatusText" Text="Ready"/>
      </StatusBarItem>
      <StatusBarItem HorizontalAlignment="Right">
        <ProgressBar Name="OperationProgress" Width="200" Height="16" Minimum="0" Maximum="100"/>
      </StatusBarItem>
    </StatusBar>

    <Grid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="2*"/>
        <ColumnDefinition Width="3*"/>
        <ColumnDefinition Width="4*"/>
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
      </Grid.RowDefinitions>

      <DockPanel Grid.Column="0" Grid.RowSpan="2" LastChildFill="True">
        <TextBlock Margin="8" Text="Folders" FontWeight="Bold"/>
        <TreeView Name="FolderTree" SelectedItemChanged="FolderTree_SelectedItemChanged" AllowDrop="True" Drop="FolderTree_Drop"/>
      </DockPanel>

      <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Horizontal" Margin="6,4">
        <TextBlock VerticalAlignment="Center" Text="Path:" Margin="0,0,6,0"/>
        <TextBox Name="PathBox" Width="Auto" MinWidth="200" VerticalAlignment="Center" KeyDown="PathBox_KeyDown"/>
        <Button Content="Go" Margin="6,0,0,0" Click="Go_Click"/>
      </StackPanel>

      <Grid Grid.Column="1" Grid.Row="1">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="*"/>
          <RowDefinition Height="Auto"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Border Margin="6" Padding="4" BorderThickness="1" BorderBrush="{StaticResource ControlBorderBrush}">
          <DockPanel>
            <TextBlock Text="Files" FontWeight="Bold"/>
          </DockPanel>
        </Border>
        <ListView Name="FileList" Grid.Row="1" Margin="6" SelectionMode="Extended" MouseDoubleClick="FileList_MouseDoubleClick" PreviewMouseMove="FileList_PreviewMouseMove" AllowDrop="True" Drop="FileList_Drop" SelectionChanged="FileList_SelectionChanged">
          <ListView.ContextMenu>
            <ContextMenu>
              <MenuItem Header="Open" Click="ContextOpen_Click"/>
              <MenuItem Header="Open With..." Click="ContextOpenWith_Click"/>
              <Separator/>
              <MenuItem Header="New Folder" Click="ContextNewFolder_Click"/>
              <MenuItem Header="New File" Click="ContextNewFile_Click"/>
              <Separator/>
              <MenuItem Header="Open Terminal Here" Click="ContextOpenTerminal_Click"/>
            </ContextMenu>
          </ListView.ContextMenu>
          <ListView.View>
            <GridView>
              <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="220"/>
              <GridViewColumn Header="Type" DisplayMemberBinding="{Binding Type}" Width="120"/>
              <GridViewColumn Header="Size" DisplayMemberBinding="{Binding SizeDisplay}" Width="120"/>
              <GridViewColumn Header="Modified" DisplayMemberBinding="{Binding ModifiedDisplay}" Width="160"/>
            </GridView>
          </ListView.View>
        </ListView>
        <Expander Grid.Row="2" Margin="6" Header="Search" Name="SearchExpander" IsExpanded="False">
          <local:SearchPane x:Name="SearchPaneControl" SearchRequested="SearchPaneControl_SearchRequested"/>
        </Expander>
        <Expander Grid.Row="3" Margin="6" Header="Inbox (Monitored)" Name="InboxExpander" IsExpanded="False">
          <ListBox Name="InboxList" Height="120" AllowDrop="True" Drop="InboxList_Drop"/>
        </Expander>
      </Grid>

      <Grid Grid.Column="2" Grid.RowSpan="2" Margin="6">
        <Grid.RowDefinitions>
          <RowDefinition Height="2*"/>
          <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <TabControl Name="EditorTabs" Grid.Row="0"/>
        <local:PreviewPane x:Name="Preview" Grid.Row="1"/>
      </Grid>
    </Grid>
  </DockPanel>
</Window>