<Window x:Class="WindowsFileManagerPro.Views.SearchView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Search Files" 
        Height="600" Width="800"
        MinHeight="400" MinWidth="600"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource WindowBackgroundBrush}">
    
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Search Options -->
        <GroupBox Header="Search Options" Grid.Row="0" Margin="0,0,0,10">
            <Grid Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <Label Content="Search in:" Grid.Row="0" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBox x:Name="SearchPathTextBox" 
                         Grid.Row="0" Grid.Column="1" 
                         Margin="5,0"
                         Text="C:\"/>
                <Button Content="Browse" 
                        Grid.Row="0" Grid.Column="2" 
                        Width="80" 
                        Click="BrowseButton_Click"/>
                <Button Content="Search" 
                        Grid.Row="0" Grid.Column="3" 
                        Width="80" 
                        Click="SearchButton_Click"/>
                
                <Label Content="Search for:" Grid.Row="1" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBox x:Name="SearchTextTextBox" 
                         Grid.Row="1" Grid.Column="1" 
                         Margin="5,5,5,0"
                         Text=""/>
                <CheckBox x:Name="CaseSensitiveCheckBox" 
                          Content="Case Sensitive" 
                          Grid.Row="1" Grid.Column="2" 
                          VerticalAlignment="Center"
                          Margin="5,0"/>
                <CheckBox x:Name="RecursiveCheckBox" 
                          Content="Include Subfolders" 
                          Grid.Row="1" Grid.Column="3" 
                          VerticalAlignment="Center"
                          IsChecked="True"/>
            </Grid>
        </GroupBox>
        
        <!-- Search Filters -->
        <GroupBox Header="Search Filters" Grid.Row="1" Margin="0,0,0,10">
            <Grid Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <Label Content="File types:" Grid.Column="0" VerticalAlignment="Center"/>
                <TextBox x:Name="FileTypesTextBox" 
                         Grid.Column="1" 
                         Margin="5,0"
                         Text="*.txt,*.cs,*.js,*.py,*.html,*.css,*.xml,*.json"/>
                <Label Content="Exclude:" Grid.Column="2" VerticalAlignment="Center" Margin="10,0,0,0"/>
                <TextBox x:Name="ExcludePatternsTextBox" 
                         Grid.Column="3" 
                         Margin="5,0"
                         Text="*.tmp,*.bak,*.log"/>
            </Grid>
        </GroupBox>
        
        <!-- Search Results -->
        <GroupBox Header="Search Results" Grid.Row="2">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                
                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="5">
                    <TextBlock x:Name="ResultCountText" Text="0 results found" VerticalAlignment="Center"/>
                    <Separator Style="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}" Margin="10,0"/>
                    <Button Content="Clear Results" 
                            Width="100" 
                            Click="ClearResultsButton_Click"/>
                    <Button Content="Export Results" 
                            Width="100" 
                            Margin="5,0,0,0"
                            Click="ExportResultsButton_Click"/>
                </StackPanel>
                
                <ListView x:Name="ResultsListView" 
                          Grid.Row="1" 
                          Margin="5"
                          MouseDoubleClick="ResultsListView_MouseDoubleClick">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="File" Width="300" DisplayMemberBinding="{Binding FileName}"/>
                            <GridViewColumn Header="Path" Width="250" DisplayMemberBinding="{Binding FilePath}"/>
                            <GridViewColumn Header="Line" Width="60" DisplayMemberBinding="{Binding LineNumber}"/>
                            <GridViewColumn Header="Context" Width="200" DisplayMemberBinding="{Binding Context}"/>
                        </GridView>
                    </ListView.View>
                </ListView>
            </Grid>
        </GroupBox>
        
        <!-- Progress and Status -->
        <Grid Grid.Row="3" Margin="0,10,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <ProgressBar x:Name="SearchProgressBar" 
                         Grid.Column="0" 
                         Height="20"
                         Visibility="Collapsed"/>
            <TextBlock x:Name="StatusText" 
                       Grid.Column="1" 
                       Text="Ready" 
                       VerticalAlignment="Center"
                       Margin="10,0,0,0"/>
        </Grid>
    </Grid>
</Window>